# CosyVoice语音合成器 - 使用说明

## 重要提示

### 首次使用注意事项

1. **模型加载时间**：首次启动CosyVoice2后端API时，需要加载语音合成模型，这个过程可能需要**2-5分钟**的时间，请耐心等待。

2. **超时问题解决**：
   - 应用已将超时时间调整为5分钟，足够应对模型加载时间
   - 如果仍然遇到超时，请检查后端API是否正常运行
   - 后台日志显示"TTS模型加载完成!"表示模型已准备就绪

### 使用流程

#### 1. 启动后端API
确保CosyVoice2后端API在端口9933上运行：
```bash
# 在CosyVoice2目录下运行
python api.py
```

#### 2. 启动语音合成器
- 双击 `start.bat` 或在项目目录下运行 `npm start`
- 首次运行需要先执行 `install.bat` 安装依赖

#### 3. 配置API地址
- 点击右上角设置按钮
- 默认地址：`http://localhost:9933`
- 点击"测试连接"确保API可用

### 功能说明

#### 文本转语音
- 支持最多1500个字符
- 可选择不同音色
- 可调节语速（0.5-2.0倍）
- 可生成SRT字幕文件

#### 文件批量合成
- 支持大文本文件自动分段
- 自动合并音频片段
- 显示合成进度

#### 音色克隆
- 上传参考音频文件
- 可选择是否提供参考文本
- 支持v1和v2版本

### 故障排除

#### 超时问题
1. **症状**：提示"超时"但后台仍在处理
2. **原因**：首次使用时模型加载时间较长
3. **解决方案**：
   - 等待后台完成模型加载（查看后台日志）
   - 模型加载完成后再次尝试合成
   - 后续使用将不再有长时间等待

#### 连接失败
1. 检查CosyVoice2后端是否启动
2. 确认端口9933未被占用
3. 检查防火墙设置

#### 音频质量问题
1. 调整语速设置
2. 检查输入文本格式
3. 尝试不同的音色

### 性能优化建议

1. **首次启动**：建议先进行一次简短文本的合成，让模型完全加载
2. **批量处理**：大文件建议分段处理，避免内存占用过高
3. **音色克隆**：参考音频建议使用清晰、无噪音的录音

### 技术支持

如遇到问题，请检查：
1. 后端API日志输出
2. Electron应用控制台错误信息
3. 网络连接状态

---

**注意**：本应用需要配合CosyVoice2后端API使用，请确保后端服务正常运行。